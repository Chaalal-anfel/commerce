<!DOCTYPE html>
<html dir="rtl" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org">
<head>
    <link href='https://fonts.googleapis.com/css?family=Cairo' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>╪з┘Д╪╡┘Б╪н╪й ╪з┘Д╪▒╪ж┘К╪│┘К╪й</title>
    <meta name="viewport" content="width=device-width,
      initial-scale=1.0"/>
    <link rel="stylesheet" th:href="@{/css/style3.css}" />
</head>
<body>
<div class="main">
    <div class="container">
        <h1 class="fr-view"> <span>╪╣┘Д╪и╪к┘К┘Ж ╪и╪л┘Е┘Ж ╪╣┘Д╪и╪й ┘И╪з╪н╪п╪й</span></h1>
        <div class="prix">
            <p>
                <span class="value">2900</span>
                <span class="currency" style="font-size: medium;">&nbsp;╪п.╪м</span></p>
        </div>
        <form th:action="@{/huilleHouloul}" method="post" th:object="${commande}" name="formName">
            <div class="main-user-info">
                <div class="user-input-box">
                    <input th:field="*{name}" type="text" id="name" name="name" required autofocus="autofocus" placeholder="╪з┘Д╪▒╪м╪з╪б ╪з╪п╪о╪з┘Д ╪з┘Д╪з╪│┘Е ┘Г╪з┘Е┘Д╪з" />
                </div>
                <div class="user-input-box">
                    <input th:field="*{numero}" type="text" id="numero" name="numero" required autofocus="autofocus" placeholder="╪з┘Д╪▒╪м╪з╪б ╪з╪п╪о╪з┘Д ╪▒┘В┘Е ╪з┘Д┘З╪з╪к┘Б"/>
                </div>
                <div class="user-input-box">
                    <input th:field="*{wilaya}" type="text" id="wilaya" name="wilaya" required autofocus="autofocus" placeholder="╪з┘Д╪▒╪м╪з╪б ╪з╪п╪о╪з┘Д ╪з┘Д┘И┘Д╪з┘К╪й"/>
                </div>
                <div class="user-input-box">
                    <input th:field="*{commune}" type="text" id="commune" name="commune" required autofocus="autofocus" placeholder="╪з┘Д╪▒╪м╪з╪б ╪з╪п╪о╪з┘Д ╪з┘Д╪и┘Д╪п┘К╪й"/>
                </div>
                <div  style="text-align: center; align-items: center;" id="errorMessage"></div>

            </div>
            <div class="form-submit-btn">
                <input  type="submit" value="╪з╪┤╪к╪▒┘К ╪з┘Д╪в┘Ж">
            </div>
            <div class="livraison-gratuit" style="text-align: center;"> ┘Д┘Д╪╖┘Д╪и ╪е┘Е┘Д╪г ┘З╪░┘З ╪з┘Д╪з╪│╪к┘Е╪з╪▒╪й </div>
        </form>
    </div>
    <div class="Responsive">
        <img class="img-fluid" src="images/huile/6.png">
        <img class="img-fluid" src="images/huile/1.png">
        <img class="img-fluid" src="images/huile/2.png">
        <img class="img-fluid" src="images/huile/3.png">
        <img class="img-fluid" src="images/huile/4.png">
        <img class="img-fluid" src="images/huile/5.png">

    </div>
    <div class="livraison">
        ЁЯЪЪЁЯЪЪЁЯЪЪ
    </div>
    <DIv style="display: flex; justify-content: center; padding-top: 3px;">
        <P style="border-top: solid 5px black; width: 30%; ;"></P>
    </DIv>
    <div class="demand-btn">
        <button class="button-dmd"> <p style="color:rgba(255, 255, 255); font-size: 120%;">╪з╪╖┘Д╪и ╪з┘Д╪в┘Ж ┘И ┘Д┘Ж ╪к┘Ж╪п┘Е ╪г╪и╪п╪з</p> <p class="fa fa-shopping-cart" style="display: flex; color: white; font-size: 150%;  margin-right: 20px;"></p></button>
    </div>
    <DIv style="display: flex; justify-content: center; padding-top: 3px;">
        <P style="margin-top: 30px; font-size: xx-large;display: flex; justify-content: center ;"> тЪая╕П ┘Е┘Д╪з╪н╪╕╪й тЪая╕П</P>
    </DIv>
    <div class="div-vers">
        <p style="font-size: x-large ; font-weight: bold;">╪з┘Д╪н╪╡┘И┘Д ╪╣┘Д┘Й ┘Ж╪к┘К╪м╪й ┘Б┘К ┘Б╪к╪▒╪й ┘В╪╡┘К╪▒╪й</p>
    </div>
    <DIv style="display: flex; justify-content: center; padding-top: 3px;">
        <P style="border-top: solid 5px black; width: 20%; ;"></P>
    </DIv>
    <DIv style="display: flex; justify-content: center; padding-top: 3px;">
        <P style="border-top: solid 5px black; width: 20%; ;"></P>
    </DIv>


    <div class="Responsive" style=" font-size:20px">
        <div id="countdown">
            <div class="circle" ><p id="seconds"></p><p style="font-size: small;">╪л╪з┘Ж┘К╪й</p></div>
            <div class="circle" ><p id="minutes"></p><p style="font-size: small;">╪п┘В┘К┘В╪й</p></div>
            <div class="circle" ><p id="hours"></p><p style="font-size: small;"> ╪│╪з╪╣╪й</p></div>
        </div>
    </div>
    <div class="demand-btn-2">
        <button class="button-dmd"> <p style="color:rgba(255, 255, 255); font-size: 150%;">╪з╪╖┘Д╪и ╪з┘Д╪в┘Ж ┘И ┘Д┘Ж ╪к┘Ж╪п┘Е</p> <p class="fa fa-shopping-cart" style="display: flex; color: white; font-size: 150%;  margin-right: 20px;"></p></button>
    </div>




</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>


<script>






    function startCountdown(hours) {
        // Calculate the total seconds
        var totalSeconds = hours * 3600;

        // Get the current time
        var startTime = new Date().getTime();

        // Update the countdown every second
        var countdown = setInterval(function() {
            // Get the current time
            var currentTime = new Date().getTime();

            // Calculate the elapsed time in seconds
            var elapsedTime = Math.floor((currentTime - startTime) / 1000);

            // Calculate the remaining time in seconds
            var remainingSeconds = totalSeconds - elapsedTime;

            // Check if the countdown is finished
            if (remainingSeconds <= 0) {
                clearInterval(countdown);
                document.getElementById("hours").textContent = "00";
                document.getElementById("minutes").textContent = "00";
                document.getElementById("seconds").textContent = "00";
                document.getElementById("countdown").textContent = "Countdown finished!";
                return;
            }

            // Calculate the hours, minutes, and seconds
            var hours = Math.floor(remainingSeconds / 3600);
            var minutes = Math.floor((remainingSeconds % 3600) / 60);
            var seconds = remainingSeconds % 60;

            // Format the countdown display
            var hoursDisplay = hours.toString().padStart(2, "0");
            var minutesDisplay = minutes.toString().padStart(2, "0");
            var secondsDisplay = seconds.toString().padStart(2, "0");

            // Display the countdown in separate circles
            document.getElementById("hours").textContent = hoursDisplay;
            document.getElementById("minutes").textContent = minutesDisplay;
            document.getElementById("seconds").textContent = secondsDisplay;
        }, 1000); // Update every second (1000 milliseconds)
    }

    // Start the countdown with 1 hour for testing
    startCountdown(1);











    const formElement = document.querySelector('form[name="formName"]');
    const errorMessages = {}; // Objet pour stocker les messages d'erreur sp├йcifiques

    formElement.addEventListener('submit', function(event) {
        event.preventDefault(); // Emp├кche la soumission du formulaire par d├йfaut

        const fullNameInput = document.getElementById('name');
        const usernameInput = document.getElementById('commune');
        const emailInput = document.getElementById('wilaya');
        const phoneNumberInput = document.getElementById('numero');

        // Expression r├йguli├иre pour le champ FullName (╪з┘Д╪з╪│┘Е ╪з┘Д┘Г╪з┘Е┘Д) - Lettres arabes et espaces seulement
        const fullNameRegex =/^[A-Za-z\u0600-\u06FF\s]+$/;
        if (!fullNameRegex.test(fullNameInput.value)) {
            errorMessages.name = '  ';
        } else {
            delete errorMessages.name; // Supprimer le message d'erreur s'il est valide
        }

        // Expression r├йguli├иre pour le champ Username (╪▒┘В┘Е ╪з┘Д┘З╪з╪к┘Б) - 9 chiffres seulement
        const usernameRegex = /^[A-Za-z\u0600-\u06FF\s]+$/;
        if (!usernameRegex.test(usernameInput.value)) {
            errorMessages.commune = ' ';
        } else {
            delete errorMessages.commune; // Supprimer le message d'erreur s'il est valide
        }

        // Expression r├йguli├иre pour le champ Email (╪з┘Д┘И┘Д╪з┘К╪й) - Format d'email valide
        const emailRegex = /^[A-Za-z\u0600-\u06FF\s]+$/;
        if (!emailRegex.test(emailInput.value)) {
            errorMessages.wilaya = ' ';
        } else {
            delete errorMessages.wilaya; // Supprimer le message d'erreur s'il est valide
        }

        // Expression r├йguli├иre pour le champ PhoneNumber (╪з┘Д╪и┘Д╪п┘К╪й) - Chiffres seulement
        const phoneNumberRegex = /^\d{10}$/ ;
        if (!phoneNumberRegex.test(phoneNumberInput.value) ) {
                errorMessages.numero= '  ';
        } else {
            delete errorMessages.numero; // Supprimer le message d'erreur s'il est valide
        }

        // V├йrifiez s'il y a des champs invalides
        if (Object.keys(errorMessages).length === 0) {
            // Tous les champs sont valides, vous pouvez soumettre le formulaire
            console.log('Tous les champs sont valides.');
            formElement.submit(); // Soumettre le formulaire
            Swal.fire({
                icon: 'success',
                title: '╪┤┘Г╪▒╪з',
                text: '╪к┘Е ╪е╪▒╪│╪з┘Д ╪╖┘Д╪и┘К╪к┘Г┘Е ╪и┘Ж╪м╪з╪н ',
            });

        } else {
            // Il y a des champs invalides, affichez le message d'erreur dans la page
            let errorMessage = '╪▒╪з╪м╪╣ ┘Е╪╣┘Д┘И┘Е╪з╪к┘Г ╪з┘Д╪┤╪о╪╡┘К╪й ┘Е┘Ж ┘Б╪╢┘Д┘Г';
            for (const fieldName in errorMessages) {
                errorMessage += ' ' + errorMessages[fieldName];
            }
            const errorMessageElement = document.getElementById('errorMessage');
            errorMessageElement.textContent = errorMessage;
        }
    });








</script>
</body>
</html>